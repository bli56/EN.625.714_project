
DM LOG 'CLEAR';
DM LST 'CLEAR';

%let path1 = C:\Users\LiBaini\Documents\2024_Summer\EN.625.714.81.SU24 Introductory Stochastic Differential Equations with Applications\714 project\Data ;

proc import out=data
	datafile= "&path1.\data.xlsx"
	dbms=xlsx replace;
	getnames=YES;
quit;


/*******************************************************/
/*** Model 1: no repeated measurements; method=type3 ***/
/*******************************************************/

proc mixed data=data  method=type3;
	class RiluzoleFLN  DTHFLN  armfln;
	model slope_ALSFRS = ALSFRS_Delta Age Onset_Delta
						 ALBUMIN ALKALINE BASOPHILS CALCIUM CREATININE HEMOGLOBIN POTASSIUM RBC SODIUM WBC
						 RiluzoleFLN Riluzole_use_Delta DTHFLN DTHDAY armfln;
quit;

proc mixed data=data  method=type3;
	class RiluzoleFLN  DTHFLN  armfln;
	model slope_ALSFRS = ;
quit;

data temp;
	SSE_Model =  0.389474;
	SSE_IntOnly =  0.484822;
	Rsquare = 1 - SSE_Model / SSE_IntOnly;
proc print data=temp;
	var Rsquare;
	title1 'Percent reduction in variance due to model';
quit;


/************************************************************************/
/*** Model 2: no repeated measurements; method=reml; random intercept ***/
/************************************************************************/

proc mixed data=data  method=reml alpha=0.05;
	class RiluzoleFLN   DTHFLN   armfln;
	model slope_ALSFRS = ALSFRS_Delta Age Onset_Delta ALBUMIN ALKALINE BASOPHILS CALCIUM CREATININE HEMOGLOBIN POTASSIUM RBC SODIUM WBC RiluzoleFLN Riluzole_use_Delta DTHFLN DTHDAY armfln / s cl solution residual outp=outp;
	random intercept / type=un solution;
quit;

proc mixed data=data  method=reml alpha=0.05;
	class RiluzoleFLN   DTHFLN   armfln;
	model slope_ALSFRS = ;
	random intercept / type=un solution;
quit;

data temp;
	SSE_Model =  0.003246;
	SSE_IntOnly =  0.003539;
	Rsquare = 1 - SSE_Model / SSE_IntOnly;
proc print data=temp;
	var Rsquare;
	title1 'Percent reduction in variance due to model';
quit;






















































































































































































































































































































































































































































































































































































